<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="libs/hidpi-canvas.min.js"></script>
    <link type="text/css" rel="stylesheet" href="css/game.css"/>
    <title>test</title>
</head>
<body>
<div id="debug-info"></div>
<canvas id="test"></canvas>
<script type="text/javascript" src="libs/zepto/zepto.min.js"></script>
<script type="text/javascript" src="js/AppConfig.js"></script>
<script type="text/javascript">
    function PubSub() {
        this.handlers = {};
    }
    PubSub.prototype = {
        // 订阅事件
        on: function(eventType,handler){
            var self = this;
            if(!(eventType in self.handlers)) {
                self.handlers[eventType] = [];
            }
            self.handlers[eventType].push(handler);
            return this;
        },
        // 触发事件(发布事件)
        emit: function(eventType){
            var self = this;
            var handlerArgs = Array.prototype.slice.call(arguments,1);
            for(var i = 0; i < self.handlers[eventType].length; i++) {
                self.handlers[eventType][i].apply(self,handlerArgs);
            }
            return self;
        }
    };

    var pubsub = new PubSub();

    pubsub.on('A',function(data){

        console.log(1 + data);  // 执行第一个回调业务函数

    });

    pubsub.on('A',function(data){

        console.log(2 + data); // 执行第二个业务回调函数

    });

    // 触发事件A

    pubsub.emit('A',"我是参数");
</script>
</body>
</html>